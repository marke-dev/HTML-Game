# Spritesheet Animation Sample - MissileCommand

See [LICENSE.md]() for license terms and conditions.

This is a sample shooting/blasting game, which demonstrates spritesheet animation generated by the Cocos2d engine. The version of the Cocos2d-JS library used in this game is 2.2.

Intel(R) XDK
-------------------------------------------
This sample is part of the Intel(R) XDK. Please sign up or download the Intel XDK at http://software.intel.com/en-us/html5.

Application Files
-----------------
* assets/
* lib/cocos2d
* index.html
* main.js
* MissionCommand.js
* Aviso.js
* Cidade.js
* FimdeJogo.js
* Missil.js
* MissileCommand.js
* Naves.js
* Splash.js
* cocos2d.js
* credits.js

### Overview

`www/cocos2d.js` bootstraps Cocos2d-HTML5 engine. And `www/main.js` is the main entrance of the game.

### Game Asset Manager
Game Asset Manager (GAM) is a tool for previewing and creating code snippets for various assets commonly used in game projects. By creating or importing a game project in Intel XDK, you will find GAM panel on the left side of "DEVELOP" tab.
With Game Asset Manager, you can generate code snippet to preload, create sprite and render animations from spritesheet.

### Preload Spritesheet
Spritesheet in Cocos2d is a packed image containing various frames used in the game. Usually all frames within the spritesheet ar defined in an XML format file (.plist) with a reference to the image. Each frame is an individual image that can be rendered in Cocos2d.

In Cocos2d, all resources should be loaded by `cc.LoaderScene.preload(resources, callback)` or  `cc.Loader.preload(resources, callback)` if you don't need a loader scene.

### Create Sprite from Spritesheet
Spritesheet should be added into cache before used to create a sprite with `cc.SpriteFrameCache.getInstance().addSpriteFrames(spritesheet_plist)`. And use `cc.Sprite.createWithSpriteFrameName(frameName)` to create a sprite from a frame. See `www/src/Missil.js` for detailed usage.

### Sprite Animations
With a list of frames, you can create a sprite animation through `cc.Animation.create(frames, frameRate)`. For example, in `www/asset/explosao1.plist` defined an animation consisted of 9 frames. To use it in your game, Game Asset Manager can help to generate code snippet. Just pasting the code snippet in your project and making some changes will get spritesheet animation rendered correctly. See `www/src/Missil.js` for detailed usage of spritesheet animations.

In this sample, to display explosion animation defined in `asset/explosao1.plist`, Game Asset Manager can generate following code snippets:

```
//
// The Intel XDK generated this code snippet for you
//
// To use it in your project, follow the
//   instructions in comments below
//

// Make sure you had preloaded the assets
//   Call this preload function when loading the game
//   TODO: merge the preload array with your existing one
cc.LoaderScene.preload([
    'asset/explosao1.plist',
    'asset/explosao1.png',
    ]);
// End of preloading assets

// This function demonstrates how to load a spritesheet animation
function demoSpritesheetAnimation (parentCocosLayer) {
    cc.SpriteFrameCache.getInstance().addSpriteFrames("asset/explosao1.plist");
    var spriteSheet = cc.SpriteBatchNode.create("asset/explosao1.png");
    parentCocosLayer.addChild(spriteSheet);

    // This array is holding all the frame names of this animation
    // TODO: add/remove the items in this array
    var frameNames = [
        'explosao1.png',
        'explosao2.png',
        'explosao3.png',
        'explosao4.png',
        'explosao5.png',
        'explosao6.png',
        'explosao7.png',
        'explosao8.png',
        'explosao9.png',
        ];

    var animmationFramesArray = [];
    // Put every frame into the array
    frameNames.forEach(function (name) {
        var frame = cc.SpriteFrameCache.getInstance().getSpriteFrame(name);
        animmationFramesArray.push(frame);
    });

    // TODO: change the speed of animation
    var animation = cc.Animation.create(animmationFramesArray, 1 / frameNames.length);
    var sprite = cc.Sprite.createWithSpriteFrameName(frameNames[0]);
    var size = cc.Director.getInstance().getWinSize();
    sprite.setPosition(size.width / 2, size.height / 2);
    sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
    spriteSheet.addChild(sprite);
}

```

Simply paste the code snippets in your project and then make changes according to your needs.

# Intel(R) XDK
This sample is part of the Intel(R) XDK. 
Download the Intel XDK at http://software.intel.com/en-us/html5.
